<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Twitch User Notes</title>
  <link rel="stylesheet" href="./options.css" />
</head>

<body>
  <main class="container">
    <h1>Twitch User Notes</h1>

    <fieldset class="actions">
      <legend>Manage Notes</legend>
      <div class="button-group">
        <button id="export" title="Export your notes as a .json file for backup or sharing">Export JSON</button>
        <button id="import" title="Import notes from a .json file">Import JSON</button>
        <input type="checkbox" id="replace" title="If checked, existing notes will be replaced.">
        <label for="replace" title="If checked, existing notes will be replaced.">Replace existing notes</label>
        <button id="clear" title="Clear all notes from local storage">Clear Notes</button>
        <input type="file" id="import-file" accept=".json" style="display:none">
      </div>
    </fieldset>

    <fieldset class="storage">
      <legend>Storage Usage</legend>
      <div id="storage-usage" class="storage-info">
        <div id="storage-bar-container">
          <div id="storage-bar-fill"></div>
          <div id="storage-bar-text"></div>
        </div>
        <div class="storage-hint">
          Notes are saved locally in your browser using Chrome's 5MB extension storage limit.
          If you reach the limit, saving may fail — consider exporting old notes as a backup. <strong>Nothing is ever uploaded or synced.</strong> Your notes stay private and local to this device.
        </div>
      </div>
    </fieldset>

    <div class="table-controls">
      <label for="sort">Sort by:</label>
      <select id="sort">
        <option value="date-desc">Recently updated</option>
        <option value="alpha">Username (A–Z)</option>
      </select>
    </div>
    <table id="notes">
      <thead>
        <tr>
          <th>User</th>
          <th>Note</th>
          <th>Updated</th>
          <th></th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <footer class="footer">
      <p>
        Built by <a href="https://twitch.tv/adjstreams" target="_blank">@adjstreams</a> — horror & dev streams<br>
        Tools & site: <a href="https://adj.gg" target="_blank">adj.gg</a> • <a href="https://streamgood.gg"
          target="_blank">streamgood.gg</a>
      </p>
    </footer>
  </main>

  <script type="module" src="./options.ts"></script>
</body>

</html>